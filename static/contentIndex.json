{"demo/AGENTS":{"title":"AGENTS","links":["ADR-0037"],"tags":[],"content":"AGENTS\nExternal File Loading\nCRITICAL: When you encounter a file reference (e.g., @rules/general.md, @docs/architecture.md), use your Read tool to load it on a need-to-know basis. These references are relevant to the SPECIFIC task at hand.\nInstructions\n\nDo NOT preemptively load all references - use lazy loading based on actual need\nWhen loaded, treat content as mandatory instructions that override defaults\nFollow references recursively when the loaded file contains additional @ references\nPriority: External file content &gt; AGENTS.md defaults &gt; built-in instructions\n\nExample Usage\nUser mentions: &quot;Follow @rules/authentication.md for this task&quot;\nAgent: Reads @rules/authentication.md, applies its rules for this task only\n\n\nRepo purpose\nThis repo is a demo showing how to use kano-agent-backlog-skill to turn agent collaboration\ninto a durable, local-first backlog with an auditable decision trail (instead of losing context in chat).\nConversational-first documentation (human-agent collaboration)\nThis project‚Äôs primary value is human + AI collaboration, not just a CLI.\nTherefore, when writing or updating documentation (README, docs, SKILL.md, process notes), always include\ninstructions for how to drive the workflow through a conversation with an AI agent, not only how to run commands.\nRules:\n\nEvery workflow doc should contain both:\n\nCLI commands (for deterministic, auditable execution), and\nSuggested chat prompts (copy/paste) that a human can say to an agent.\n\n\nPrompts must be specific about inputs the agent needs: topic/item IDs, product, agent identity, expected outputs.\nDocument the expected artifacts and paths the agent will produce/update (e.g., reports under topic/publish/).\nPrefer a consistent pattern in docs:\n\n‚ÄúSay this to your agent‚Äù\n‚ÄúThe agent will do‚Äù (explicit steps)\n‚ÄúExpected output‚Äù (files/paths + how to verify)\n\n\n\nExample (decision audit + decision write-back):\n\nSay to agent: ‚ÄúRun a decision write-back audit for topic  and show me which work items are missing decisions.‚Äù\nAgent runs: kano topic decision-audit &lt;topic-name&gt; --format plain\nExpected output: _kano/backlog/topics/&lt;topic-name&gt;/publish/decision-audit.md\nSay to agent: ‚ÄúWrite back this decision to &lt;ITEM_ID&gt; and include the synthesis file as source.‚Äù\nAgent runs: kano workitem add-decision &lt;ITEM_ID&gt; --decision &quot;...&quot; --source &quot;...&quot; --agent &lt;agent-id&gt; --product &lt;product&gt;\nExpected output: updated work item with a ## Decisions section + appended Worklog entry.\n\nAgent roster (from README.md)\n\nCodex\nGitHub Copilot\nGoogle Antigravity\nAmazon Q\nAmazon Kiro\nCursor\nWindsurf\nOpenCode\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAgentPrimary Model(s)Alternative ModelsNotesCodexCodex-Max (Nov 2025)GPT-5.2-Codex, o1/o3-reasoningOpenAI‚Äôs dedicated line for software engineering and multi-file logicGitHub CopilotGPT-5.2 (Dec 2025)Claude 4.5, Gemini 3 Pro, GPT-5.1Multi-model picker; GPT-5.2 Pro available for advanced research/reasoningGoogle AntigravityGemini 3 Flash (Dec 2025)Gemini 3 Pro, Gemini 1.5 Pro (legacy)Optimized for low-latency planning and multimodal workspace reasoningAmazon QClaude 4 Sonnet (May 2025)Claude 4.5 Sonnet, Amazon NovaEnhanced for autonomous computer use and deep codebase integrationAmazon KiroAuto-Routing (Dynamic)Claude 4.5 (Opus/Sonnet/Haiku)Intelligent routing across Claude 4 family; ~23% cheaper than direct Opus 4.5 useCursorClaude 3.5 Sonnet, GPT-5cursor-small (V2), GPT-4.1 MiniStable support for 2024/2025 frontier models; high-freq codebase indexingWindsurfSWE-1.5 (Proprietary)Claude 4, GPT-5.1, BYOKSWE-1.5 is a frontier coding model with performance near Claude 4.5OpenCodeMulti-ProviderDeepSeek V3.2, Llama 4 Scout, Mistral Large 3Open-source champion; supports 75+ providers including regional models\nDevelopment Guidelines\nDerived Data and .gitignore Rules\nCRITICAL: Always exclude derived/generated data from version control to keep repositories clean and efficient.\nWhat to Exclude\nGenerated/Derived Data (always add to .gitignore):\n\nCache directories: .cache/, __pycache__/, .pytest_cache/\nBuild artifacts: dist/, build/, *.egg-info/\nTest outputs: htmlcov/, .coverage, .hypothesis/\nVector databases: .cache/vector/, *.sqlite3 (embedding indexes)\nCompiled files: *.pyc, *.pyo, *.so\nIDE files: .vscode/, .idea/, *.swp\nOS files: .DS_Store, Thumbs.db\nEnvironment files: .env, .venv/, venv/\n\nWhat to Include\nSource of Truth (always version control):\n\nSource code: src/, tests/, scripts\nConfiguration templates: config.toml.example, default configs\nDocumentation: README.md, references/, SKILL.md\nSchema definitions: data models, API specs\nTest fixtures: static test data, benchmark corpus\n\nImplementation Rules\n\n\nBefore adding any new feature that generates data:\n\nIdentify what files/directories will be created\nAdd appropriate .gitignore entries immediately\nDocument the regeneration process\n\n\n\nCommon patterns to exclude:\n# Caches and derived data\n.cache/\n__pycache__/\n*.pyc\n \n# Build outputs\ndist/\nbuild/\n*.egg-info/\n \n# Test artifacts\n.pytest_cache/\n.coverage\nhtmlcov/\n \n# Vector/embedding indexes\n.cache/vector/\n*.sqlite3\n \n# IDE and OS\n.vscode/\n.DS_Store\n\n\nDocumentation requirement:\n\nAlways document how to regenerate excluded data\nInclude regeneration steps in README or setup docs\nProvide example commands for rebuilding indexes/caches\n\n\n\nRationale\n\nRepository size: Derived data can be large and grows over time\nMerge conflicts: Generated files often cause unnecessary conflicts\nEnvironment differences: Derived data may be platform/environment specific\nReproducibility: Source code should be sufficient to recreate all derived data\nSecurity: Avoid accidentally committing sensitive generated data\n\nQuick Start Commands\n# Install dependencies (dev mode)\npython -m pip install -e skills/kano-agent-backlog-skill[dev]\n \n# Run a specific test\npython -m pytest tests/test_chunking_mvp.py -v\n \n# Run all tests\npython -m pytest tests/ -v\n \n# Run tests with coverage\npython -m pytest tests/ --cov=skills/kano-agent-backlog-skill/src --cov-report=html\n \n# Format code\nblack skills/kano-agent-backlog-skill/src tests/\n \n# Sort imports\nisort skills/kano-agent-backlog-skill/src tests/\n \n# Check types\nmypy skills/kano-agent-backlog-skill/src\n \n# Run all linting\nblack skills/kano-agent-backlog-skill/src tests/ &amp;&amp; \\\nisort skills/kano-agent-backlog-skill/src tests/ &amp;&amp; \\\nmypy skills/kano-agent-backlog-skill/src\nCode Style Guidelines\nType Hints\nAlways use type hints from typing module: List, Dict, Optional, Any, Union, Tuple.\nExample:\nfrom typing import List, Optional, Dict\n \ndef process_items(items: List[str]) -&gt; Dict[str, Any]:\n    &quot;&quot;&quot;Process items and return a dictionary.&quot;&quot;&quot;\n    result: Dict[str, Any] = {}\n    for item in items:\n        result[item] = len(item)\n    return result\nImport Conventions\n\nOrder: standard library ‚Üí third-party ‚Üí local modules\nUse absolute imports from skill packages: from kano_backlog_core import ...\nUse relative imports within packages: from .models import ...\n\nExample:\nimport json  # Standard library\nfrom pathlib import Path  # Standard library\nfrom frontmatter import load  # Third-party\nfrom kano_backlog_core import BacklogItem  # Absolute from skill root\nfrom .models import ItemState  # Relative within package\nNaming Conventions\n\nClasses: PascalCase (e.g., CanonicalStore, ChunkingOptions)\nFunctions: snake_case (e.g., read_item, validate_config)\nConstants: UPPER_SNAKE_CASE (e.g., TYPE_DIRNAMES)\nPrivate members: leading underscore _private_var, __dunder__\nModules: snake_case (e.g., kano_backlog_core, token_counter)\n\nFormatting Rules\n\nLine length: 88 characters (Black default)\nIndentation: 4 spaces\nNo trailing whitespace\nDocstrings: triple double quotes &quot;&quot;&quot;, Google style\nType hints: after function definition, before docstring\n\nExample:\ndef process_data(data: List[Dict[str, Any]]) -&gt; Dict[str, Any]:\n    &quot;&quot;&quot;Process data and return results.\n \n    Args:\n        data: Input data to process.\n \n    Returns:\n        Dictionary of processed results.\n    &quot;&quot;&quot;\n    result: {}\n    for item in data:\n        result[item[&quot;id&quot;]] = item[&quot;value&quot;]\n    return result\nError Handling\nUse exceptions from kano_backlog_core/errors.py:\n\nItemNotFoundError - Item file doesn‚Äôt exist\nParseError - Invalid frontmatter or markdown\nValidationError - Data validation failed\nConfigError - Configuration error\nWriteError - Write operation failed\n\nExample:\nfrom kano_backlog_core.errors import ItemNotFoundError\n \ndef load_item(item_path: Path) -&gt; BacklogItem:\n    if not item_path.exists():\n        raise ItemNotFoundError(item_path, f&quot;Item file not found: {item_path}&quot;)\nDocstring Conventions\n\nTriple double quotes &quot;&quot;&quot;\nGoogle Style Guide format\nInclude Args:, Returns:, and Raises: sections\nImperative mood: ‚ÄúReturn‚Äù, not ‚ÄúReturns‚Äù\n\nExample:\ndef create_item(title: str) -&gt; BacklogItem:\n    &quot;&quot;&quot;Create a new backlog item.\n \n    Args:\n        title: The title of the item.\n \n    Returns:\n        The created BacklogItem object.\n    &quot;&quot;&quot;\n    return BacklogItem(title=title)\nTesting Guidelines\nTest Structure\n\nUse pytest as test runner\nPlace tests in tests/ directory\nTest filename: test_{module_name}.py\nUse Hypothesis for property-based testing\n\nProperty-Based Testing with Hypothesis\nfrom hypothesis import given, strategies as st, composite\nfrom kano_backlog_core import ChunkingOptions\n \n@composite\ndef valid_config_strategy(draw):\n    &quot;&quot;&quot;Generate valid config instances.&quot;&quot;&quot;\n    return ChunkingOptions(\n        target_tokens=draw(st.integers(min_value=50, max_value=2048)),\n        max_tokens=draw(st.integers(min_value=512, max_value=4096))\n    )\n \n@given(valid_config_strategy())\ndef test_valid_config_passes(config: ChunkingOptions):\n    &quot;&quot;&quot;Valid config should pass validation.&quot;&quot;&quot;\n    assert config.target_tokens &lt;= config.max_tokens\nUsing the Kano Backlog Skill\nBefore Making Changes\n\nCheck existing items:\n\npython -m kano_backlog_cli.main item list --product kano-agent-backlog-skill\n\nCreate or update work items before coding:\n\npython -m kano_backlog_cli.main item create \\\n    --type task \\\n    --title &quot;Implement X feature&quot; \\\n    --product kano-agent-backlog-skill \\\n    --agent &lt;your-agent-id&gt;\n\nEnforce the Ready gate on Task/Bug items:\n\n\nRequired fields: Context, Goal, Approach, Acceptance Criteria, Risks / Dependencies\nAll fields must be non-empty and written in English only\n\n\nUpdate item state when starting work:\n\npython -m kano_backlog_cli.main item update-state \\\n    --id KABSD-TSK-0146 \\\n    --state InProgress \\\n    --agent &lt;your-agent-id&gt;\nWorklog Discipline\nWorklog is append-only. Append when:\n\nA load-bearing decision is made\nAn item state changes\nScope/approach changes\nAn ADR is created/linked\n\nFormat:\nYYYY-MM-DD HH:MM [agent=&lt;agent-id&gt;] [model=&lt;model&gt;] description\n\nAlways provide explicit --agent &lt;id&gt; - never use placeholders like auto or &lt;AGENT_NAME&gt;.\nState Transitions\n# Move to InProgress\npython -m kano_backlog_cli.main item update-state --id &lt;ID&gt; --state InProgress --agent &lt;agent-id&gt;\n \n# Move to Done\npython -m kano_backlog_cli.main item update-state --id &lt;ID&gt; --state Done --agent &lt;agent-id&gt;\nADR Creation\npython -m kano_backlog_cli.main adr create \\\n    --title &quot;Decision title&quot; \\\n    --product kano-agent-backlog-skill \\\n    --agent &lt;agent-id&gt;\nAgent-Specific Rules\nGitHub Copilot\nFollow commit guidelines in .github/copilot-instructions.md:\n\nUse Kano backlog IDs directly in commit messages\nPreferred format: KABSD-TSK-0146: &lt;short summary&gt;\nMultiple items: KABSD-TSK-0146 KABSD-TSK-0147: &lt;short summary&gt;\nDo NOT use jira# prefix\n\nBacklog system note:\n\nThis repository uses kano-backlog as the system of record, not Jira.\nDo not add any jira# or JIRA: prefixes. Reference Kano IDs directly.\nExamples:\n\nGood: KABSD-TSK-0261: refine filename truncation\nBad: jira#KABSD-TSK-0261\n\n\n\nAgent Identity\nValid agent IDs for worklog entries:\n\ncopilot, codex, claude, goose, antigravity, cursor, windsurf, opencode, kiro, amazon-q\n\nForbidden: &lt;AGENT_NAME&gt;, $AGENT_NAME\nArchitecture Rules (ADR-0013)\nModule Boundaries\n\nkano_backlog_core/ - Import-only, no executable code\nkano_backlog_ops/ - Use cases and business logic\nkano_backlog_cli/ - Executable CLI commands\nscripts/ - Entry point scripts\n\nCross-Package Imports\nUse absolute imports from kano_backlog_core when importing from other packages:\nfrom kano_backlog_core import BacklogItem, ItemState\nNever import directly from kano_backlog_ops from CLI or scripts.\nInspector Pattern (ADR-0037)\nPrinciple: Skill core provides query surface (deterministic data extraction). All ‚Äúexpert judgment‚Äù lives in external inspector agents.\nWhat This Means:\n\nCore provides: audit, snapshot, constellation, workitem.query, doc.resolve APIs (all read-only, deterministic)\nInspector agents consume: Query APIs to produce health reports, review suggestions, refactor recommendations\nEvidence required: Every inspector finding must cite file path + line range + item/ADR ID\n\nPattern:\n# Inspector agent calls query surface\nkano-backlog query snapshot --format json &gt; snapshot.json\nhealth-inspector --input snapshot.json --output report.json\n \n# Report includes evidence\n{\n  &quot;finding_id&quot;: &quot;F-001&quot;,\n  &quot;assessment&quot;: &quot;5 tasks missing Context field&quot;,\n  &quot;evidence&quot;: [\n    {\n      &quot;item_id&quot;: &quot;KABSD-TSK-0042&quot;,\n      &quot;file&quot;: &quot;_kano/backlog/items/task/0000/KABSD-TSK-0042.md&quot;,\n      &quot;line_range&quot;: [25, 30]\n    }\n  ]\n}\nInspector Types (all external to core):\n\nHealth/Ideas: 3+3 questions, gap analysis, anti-patterns\nReviewer: Code review suggestions, best practices\nArchitect: Refactoring recommendations, design improvements\nSecurity: Threat model, vulnerability assessment\n\nKey: Inspectors are replaceable. Any agent can implement the contract. Core never hardcodes ‚Äúthis backlog is healthy/unhealthy‚Äù conclusions.\nSee ADR-0037 for full architecture.\nCommon Data Structures\n\nBacklogItem - Core work item model with frontmatter\nItemType - Enum: EPIC, FEATURE, USER_STORY, TASK, BUG\nItemState - Enum: Proposed, Planned, Ready, InProgress, Blocked, Done, Dropped\nChunkingOptions, TokenBudgetPolicy - Configuration for chunking system\n\nCommon Error Types\n\nItemNotFoundError - Item file doesn‚Äôt exist\nParseError - Invalid frontmatter or markdown\nValidationError - Data validation failed\nConfigError - Configuration error\nWriteError - Write operation failed\n\n\nRemember: This is a living document. Update it as patterns evolve in the codebase.\nCanonical + Adapters Architecture\n\n\n                  \n                  IMPORTANT\n                  \n                \n\nThis repo uses a ‚Äúcanonical source + adapters‚Äù layout to support multiple AI coding agents.\n\n\nCanonical Source (Single Source of Truth)\n\nAll skill documentation lives in: skills/&lt;skill-name&gt;/SKILL.md\nAlways read the canonical SKILL.md - adapters are just entry points\n\nAdapters (Entry Points for Different Agents)\n\nGitHub Copilot: .github/skills/&lt;skill-name&gt;/SKILL.md (thin wrapper with links to canonical)\nOpenAI Codex: .codex/skills/&lt;skill-name&gt;/SKILL.md (thin wrapper with name/description and links)\nAnthropic Claude: .claude/skills/&lt;skill-name&gt;/SKILL.md (compatible with Claude Code/Desktop)\nGoose: .goose/skills/&lt;skill-name&gt;/SKILL.md (open-source agent compatible with Claude skills)\nGoogle Antigravity: .agent/skills/&lt;skill-name&gt;/SKILL.md (native workspace skills)\nClaude Code: CLAUDE.md (root wrapper pointing back to this file)\nUniversal: AGENTS.md (this file) enforces workflow rules\nModular: Skills are self-contained in skills/ directory\n\nWorkflow Enforcement\n\nBefore using any skill: Open and read the canonical skills/&lt;skill-name&gt;/SKILL.md\nIf you only see a summary/wrapper, follow the links to canonical sections\nRun doctor or verification commands mentioned in canonical docs\n\nKey paths\n\nSkill (submodule): skills/kano-agent-backlog-skill/\n\nCanonical rules: skills/kano-agent-backlog-skill/SKILL.md ‚Üê READ THIS\nCopilot adapter: .github/skills/kano-agent-backlog-skill/SKILL.md\nCodex adapter: .codex/skills/kano-agent-backlog-skill/SKILL.md\nClaude adapter: .claude/skills/kano-agent-backlog-skill/SKILL.md\nGoose adapter: .goose/skills/kano-agent-backlog-skill/SKILL.md\nAntigravity adapter: .agent/skills/kano-agent-backlog-skill/SKILL.md\nReferences: skills/kano-agent-backlog-skill/references/\n\n\nSkill: skills/kano-commit-convention-skill/\n\nCanonical rules: skills/kano-commit-convention-skill/SKILL.md ‚Üê READ THIS\nCopilot adapter: .github/skills/kano-commit-convention-skill/SKILL.md\nCodex adapter: .codex/skills/kano-commit-convention-skill/SKILL.md\nClaude adapter: .claude/skills/kano-commit-convention-skill/SKILL.md\nGoose adapter: .goose/skills/kano-commit-convention-skill/SKILL.md\nAntigravity adapter: .agent/skills/kano-commit-convention-skill/SKILL.md\n\n\nUniversal Rules: AGENTS.md (this file)\nClaude Code: CLAUDE.md (root wrapper pointing to AGENTS.md)\nDemo backlog (system of record): _kano/backlog/\n\nItems: _kano/backlog/items/\nADRs: _kano/backlog/decisions/\nViews: _kano/backlog/products/&lt;product&gt;/views/\nTools (project-specific): _kano/backlog/tools/ (project-only views/dashboards)\n\n\n\nBacklog discipline (this repo)\n\nUse skills/kano-agent-backlog-skill/SKILL.md for any planning/backlog work.\nIf Python deps are missing, install them with python -m pip install -e skills/kano-agent-backlog-skill (add [dev] when developing the skill itself).\nBefore any code change, create/update items in _kano/backlog/items/ (Epic ‚Üí Feature ‚Üí UserStory ‚Üí Task/Bug).\n\n\n\n                  \n                  IMPORTANT\n                  \n                \n\nStrictly English Only: All backlog item content (Context, Goal, Approach, Worklog, etc.) MUST be written in English. This is a hard requirement for this demo to ensure accessibility for all agents.\n\n\n\nEnforce the Ready gate on Task/Bug (required, non-empty): Context, Goal, Approach, Acceptance Criteria, Risks / Dependencies.\nWorklog is append-only; never rewrite history. Append a Worklog line whenever:\n\na load-bearing decision is made,\nan item state changes,\nscope/approach changes,\nor an ADR is created/linked.\n\n\nUse python skills/kano-agent-backlog-skill/scripts/kano item update-state ... for state transitions so state, updated, and Worklog stay consistent.\nNeed a new backlog product? Run python skills/kano-agent-backlog-skill/scripts/kano backlog init --product &lt;name&gt; --agent &lt;id&gt; to scaffold _kano/backlog/products/&lt;name&gt;/ before creating items.\nFor backlog/skill file operations, go through the kano CLI so audit logs capture the action (no ad-hoc file edits).\nSkill scripts refuse paths outside _kano/backlog/ or _kano/backlog_sandbox/.\nKeep backlog volume under control: only open new items for code/design changes; keep Tasks/Bugs sized to one focused session; avoid ADRs unless there is a real architectural trade-off.\nTicketing threshold (agent-decided):\n\nOpen a new Task/Bug when you will change code/docs/views/scripts.\nOpen an ADR (and link it) when a real trade-off or direction change is decided.\nOtherwise, record the discussion in an existing Worklog; ask if unsure.\n\n\nState ownership: the agent decides when to move items to InProgress or Done; humans observe and can add context.\n\nNaming and storage rules (short)\n\nStore items under _kano/backlog/items/&lt;type&gt;/&lt;bucket&gt;/ and bucket per 100 (0000, 0100, ‚Ä¶).\nFilenames are stable: &lt;ID&gt;_&lt;slug&gt;.md (ASCII slug).\nFor Epics, create an adjacent &lt;ID&gt;_&lt;slug&gt;.index.md MOC and register it in _kano/backlog/_meta/indexes.md.\n\nViews (human-friendly)\n\nObsidian Dataview dashboards live under product view roots (e.g. _kano/backlog/products/&lt;product&gt;/views/Dashboard.md).\nGenerate the canonical dashboards via the CLI: python skills/kano-agent-backlog-skill/scripts/kano-backlog view refresh --agent &lt;id&gt; --backlog-root _kano/backlog --product &lt;name&gt;.\n\nNote: _kano/backlog/tools/*.sh are deprecated; use Python tools instead when needed (e.g. generate_demo_views.py, generate_focus_view.py).\n\n\n\nDemo principles\n\nKeep the demo backlog small and traceable; avoid ticket spam.\nAvoid unrelated refactors; every meaningful change should be explainable via a backlog item or ADR (with verification steps).\nIf you change the skill itself, commit inside the submodule skills/kano-agent-backlog-skill/ and update the parent repo submodule pointer.\nSelf-contained skill stance (this demo repo):\n\nPrefer adding automation as new kano subcommands so the skill is usable without manual setup.\nKeep _kano/backlog/tools/ for project-only dashboards/demos (wrapping skill scripts is OK when the behavior is demo-specific).\nOther projects may choose override-only usage; this repo does not. Treat the skill as the source of truth.\n\n\n\nTests\nNo tests or build steps are defined yet.\nTemporary Clause: Local-first First, No Server Implementation Yet\nEffective immediately, this project prioritizes local-first completion and hardening.\nAllowed (Encouraged)\n\nAny work that improves local-first workflows and quality, including:\n\nFile-based canonical data design, schema refinement, validation, and migration tooling\nLocal indexing/search (e.g., SQLite/FTS/sidecar ANN), ingest pipelines, and performance work\nCLI scripts, automation scripts, and developer tooling\nDocumentation, ADRs, threat models, and evaluations for future cloud/server support\nDesigning server interfaces (API/MCP schemas) as documentation/spec only\n\n\n\nNot Allowed (Hard Stop)\n\nDo not implement any server runtime or deployable server component, including but not limited to:\n\nHTTP server, REST API service, gRPC service\nMCP server (any transport)\nWeb UI that depends on a running server\nDocker/K8s deployment for a server component\nAuthentication/authorization implementation as runnable server code\n\n\nDo not add runtime dependencies whose primary purpose is server hosting (unless explicitly approved).\n\nRe-enabling Condition\n\nThis clause remains in effect until a human explicitly removes or disables it.\nAny request that appears to require server implementation must be treated as ‚Äúspec-only‚Äù and should produce:\n\nan ADR and/or design doc,\na roadmap ticket proposal,\na clear note that implementation is deferred due to this clause.\n\n\n\nRationale\n\nKeep the project focused on local-first stability and usability before expanding to cloud/multi-remote deployments.\n\n\nProject backlog discipline (kano-agent-backlog-skill)\n\nUse skills/kano-agent-backlog-skill/SKILL.md for any planning/backlog work.\nBacklog root is _kano/backlog_sandbox/_tmp_tests/guide_test_backlog (items are file-first; index/logs are derived).\nBefore any code change, create/update items in _kano/backlog_sandbox/_tmp_tests/guide_test_backlog/items/ (Epic ‚Üí Feature ‚Üí UserStory ‚Üí Task/Bug).\nEnforce the Ready gate on Task/Bug before starting; Worklog is append-only.\nUse the kano CLI (not ad-hoc edits) so audit logs capture actions:\n\nBootstrap: python skills/kano-agent-backlog-skill/scripts/kano backlog init --product &lt;name&gt; --agent &lt;agent-name&gt;\nCreate/update: python skills/kano-agent-backlog-skill/scripts/kano item create|update-state ... --agent &lt;agent-name&gt;\nViews: python skills/kano-agent-backlog-skill/scripts/kano view refresh --agent &lt;agent-name&gt; --product &lt;name&gt;\n\n\nDashboards auto-refresh after item changes by default (views.auto_refresh=true); use --no-refresh or set it to false if needed.\n\n"},"demo/CLAUDE":{"title":"CLAUDE","links":[],"tags":[],"content":"CLAUDE.md\n\n\n                  \n                  IMPORTANT\n                  \n                \n\nThis repo uses a ‚Äúcanonical source + adapters‚Äù layout.\n\n\nüìñ Global Instructions\nFor project-wide rules, architecture, and backlog discipline, please READ AND FOLLOW:\nüëâ @AGENTS.md\nüì¶ Agent Skills\nThis repo provides specialized skills in the following locations. Always read the canonical source within each skill folder:\n\nBacklog Management: @skills/kano-agent-backlog-skill/SKILL.md\nCommit Conventions: @skills/kano-commit-convention-skill/SKILL.md\n\n\nüõ†Ô∏è Quick Start for Claude\n\nExplore the codebase: Read @AGENTS.md for terminal commands and style guides.\nBacklog first: Before taking any action, check the backlog in _kano/backlog/.\nCanonical skills: Refer to the skills/ directory for tool-specific instructions (e.g., @skills/kano-agent-backlog-skill/SKILL.md).\n"},"demo/README":{"title":"README","links":["demo/AGENTS","demo/CLAUDE"],"tags":[],"content":"kano-agent-backlog-skill-demo\n\n\n\n\n\nAI Agent Skills for Spec-Driven Agentic Programming | File-based backlog management | Multi-agent collaboration | Local-first architecture\n\n‚ö†Ô∏è VERSION 0.0.2 - TOPICS + EMBEDDING PIPELINE FOUNDATIONS ‚ö†Ô∏è\nThis is the 0.0.2 release of the kano-agent-backlog-skill-demo - an experimental local-first, file-based backlog management system for AI agent collaboration.\nIMPORTANT DISCLAIMERS:\n\nüöß Rapid Development: System architecture is changing frequently\n‚ö° Breaking Changes: APIs, file formats, and workflows may change without notice\nüî¨ Experimental: Many features are incomplete or unstable\n‚ùå No Guarantees: No stability, compatibility, or support guarantees\nüìù Documentation Lag: Documentation may not reflect current implementation\n\nWhat‚Äôs New in 0.0.2:\n\n‚úÖ Core backlog item management (Epic, Feature, UserStory, Task, Bug)\n‚úÖ Workset execution cache for per-item context\n‚úÖ Topic-based context switching and grouping\n‚úÖ Topic templates, cross-references, snapshots, and merge/split operations\n‚úÖ Code snippet collection in topic materials\n‚úÖ Deterministic brief generation from materials\n‚úÖ ADR (Architecture Decision Record) support\n‚úÖ Multi-agent coordination (Canonical + Adapters architecture)\n‚úÖ Native support for Copilot, Codex, Claude, and Goose\n‚úÖ CLI commands for all core operations\n‚úÖ Property-based testing with Hypothesis\nüöß SQLite indexing (experimental)\nüöß Embedding search foundations (cross-lingual requirement, per-model index strategy)\n\nOverview\nCurrent Status: Version 0.0.2\nThis repository demonstrates an evolving approach to transform agent collaboration into a durable, auditable backlog system. The core concept is to persist planning, decisions, and work items as structured markdown files rather than losing context in chat conversations.\nWhat‚Äôs Working in 0.0.2:\n\n‚úÖ Markdown-based work item storage with frontmatter metadata\n‚úÖ CLI scripts for item creation, state transitions, and worklog management\n‚úÖ Workset execution cache for per-item context isolation\n‚úÖ Topic-based context switching with code snippet collection\n‚úÖ Deterministic brief generation from collected materials\n‚úÖ Plain markdown and Obsidian Dataview dashboard generation\n‚úÖ Multi-agent coordination through shared backlog\n‚úÖ ADR (Architecture Decision Record) workflow\n‚úÖ Property-based testing with Hypothesis\n\nWhat‚Äôs Unstable/Incomplete:\n\n‚ö†Ô∏è File formats and schemas (may change)\n‚ö†Ô∏è CLI interfaces and commands (evolving)\n‚ö†Ô∏è Configuration system (in flux)\n‚ö†Ô∏è SQLite indexing (experimental)\n‚ö†Ô∏è Embedding search (experimental)\n‚ö†Ô∏è Documentation accuracy (catching up)\n\nKey Features\n\nLocal-first backlog: All work items stored as markdown files with frontmatter metadata\nHierarchical work items: Epic ‚Üí Feature ‚Üí User Story ‚Üí Task/Bug\nAppend-only worklog: Auditable decision trail for each work item\nArchitecture Decision Records (ADRs): Capture significant technical decisions\nWorkset execution cache: Per-item working context with plan, notes, and deliverables to prevent agent drift\nTopic-based context switching: Group related items and documents for rapid focus area changes\nCode snippet collection: Capture and organize code references in topic materials\nDeterministic distillation: Generate briefs from collected materials for consistent context loading\nMultiple views: Obsidian Dataview dashboards and plain markdown reports\nMulti-product support: Organize backlogs for different products/projects\nMulti-agent coordination: Canonical + Adapters layout for shared backlog\nBroad compatibility: Support for Copilot, Codex, Claude, Goose, and Antigravity\nüöß WIP: Optional SQLite index - Fast queries while keeping files as source of truth\nüöß WIP: Embedding search - Local semantic search for backlog items (experimental)\n\nRepository Structure\n‚îú‚îÄ‚îÄ _kano/backlog/              # Main backlog directory (system of record)\n‚îú‚îÄ‚îÄ skills/                     # Canonical sources (git submodules or local)\n‚îÇ   ‚îú‚îÄ‚îÄ kano-agent-backlog-skill/         # **CANONICAL** (single source of truth)\n‚îÇ   ‚îî‚îÄ‚îÄ kano-commit-convention-skill/\n‚îú‚îÄ‚îÄ .github/skills/             # GitHub Copilot adapters\n‚îú‚îÄ‚îÄ .codex/skills/              # OpenAI Codex adapters\n‚îú‚îÄ‚îÄ .claude/skills/             # Anthropic Claude adapters\n‚îú‚îÄ‚îÄ .goose/skills/              # Goose adapters\n‚îú‚îÄ‚îÄ .agent/skills/              # Google Antigravity adapters\n‚îú‚îÄ‚îÄ AGENTS.md                   # Universal guidelines and workflow rules\n‚îú‚îÄ‚îÄ CLAUDE.md                   # Claude Code root adapter (points to AGENTS.md)\n‚îî‚îÄ‚îÄ README.md                   # This file\n\nMulti-Agent Architecture: Canonical + Adapters\nThis repository uses a ‚Äúcanonical source + adapters‚Äù layout to maintain a single source of truth while supporting mission-critical directories for different agents.\n\nCanonical Source: Full documentation and logic stay in skills/&lt;skill-name&gt;/SKILL.md.\nAdapters: Lightweight ‚Äúthin wrappers‚Äù exist in agent-specific folders (like .github/skills/ or .claude/skills/) that point back to the canonical source via links or @ references.\nUniversal Rules: AGENTS.md defines project-wide workflow rules and discipline for all agents.\nEntry Points:\n\nClaude Code: Uses CLAUDE.md as a root entrance to AGENTS.md.\nOther Agents: Use their respective .folder/skills/ adapters.\n\n\n\nSee AGENTS.md for detailed workflow enforcement rules.\nSkill Architecture: Self-Contained Design\n\nAll source code (domain library + CLI) lives under src/\nAll dependencies are unified in pyproject.toml\nThe entire skills/kano-agent-backlog-skill/ directory can be copied to any project (or used as a git submodule)\nNo external dependencies on kano-backlog-core or kano-cli projects\n\nThis follows the ‚ÄúSelf-contained skill stance‚Äù principle defined in AGENTS.md: keep all automation and tools needed to use the skill within the skill directory itself, avoiding scattered dependencies.\nGetting Started (Experimental)\n‚ö†Ô∏è WARNING: This is designed for AI agent automation, not manual operation.\nPrerequisites\n\nAI agent with file system access (Amazon Kiro, Claude, ChatGPT, Cursor, Windsurf, etc.)\nPython 3.10+ (required by skills/kano-agent-backlog-skill/pyproject.toml)\nGit (for version control and submodules)\nPatience: Expect things to break or change\n\nQuick Start\n1. Clone the repository:\ngit clone github.com/dorgonman/kano-agent-backlog-skill-demo.git\ncd kano-agent-backlog-skill-demo\n2. Initialize submodules:\ngit submodule update --init --recursive\n3. Install the skill:\npython -m pip install -e skills/kano-agent-backlog-skill\n4. Verify installation:\nkano-backlog --help\n5. Explore the demo backlog:\n# List work items\nkano-backlog item list --product kano-agent-backlog-skill\n \n# View dashboard\nkano-backlog view refresh --product kano-agent-backlog-skill --agent demo\n \n# List topics\nkano-backlog topic list\n \n# List worksets\nkano-backlog workset list\nOptional: Dev Dependencies\nFor development or embedding search features:\npython -m pip install -e &quot;skills/kano-agent-backlog-skill[dev]&quot;\nNote: FAISS and sentence-transformers may require platform-specific installation.\nPrerequisite install (recommended)\nInstall the skill (and its CLI dependencies) into your environment once:\npython -m pip install -e skills/kano-agent-backlog-skill\nOptional dev/embedding dependencies can be added with extras:\npython -m pip install -e &quot;skills/kano-agent-backlog-skill[dev]&quot;\n# Install FAISS / sentence-transformers manually per platform before running embedding workflows.\nVerify Installation\nAfter installation, verify the CLI is available:\nkano-backlog --help\nkano-backlog workset --help\nkano-backlog topic --help\nAgent-First Setup\nInstead of manual installation, ask your AI agent to:\n&quot;Please help me set up the kano-agent-backlog-skill demo. \nInitialize the backlog structure, and show me what work items exist.&quot;\n\nThe agent should automatically:\n\nInitialize submodules if needed\nExplore the backlog structure\nShow you available work items\nGenerate current dashboard views\n\nIf something breaks, just ask:\n&quot;The backlog setup failed. Please check what went wrong and fix it.&quot;\n\nAgent Workflow (Chat-Driven)\nThis system is designed for conversational agent interaction, not manual commands.\nStarting a New Work Session\nAsk your agent:\n&quot;Please check the backlog and pick a ready task for me to work on. \nCreate the work item if needed and start working on it.&quot;\n\nThe agent should:\n\nScan available work items\nFind or create a suitable task\nUpdate the item to ‚ÄúInProgress‚Äù\nBegin implementation\nLog decisions in the worklog\n\nCreating New Work Items\nInstead of manual scripts, just say:\n&quot;I need to add a new feature for user authentication. \nPlease create the appropriate backlog items and start planning.&quot;\n\nOr for bugs:\n&quot;There&#039;s a bug in the login system - users can&#039;t reset passwords. \nPlease create a bug item and investigate the issue.&quot;\n\nChecking Progress\nAsk for status updates:\n&quot;Show me the current backlog status and what&#039;s in progress.&quot;\n\nOr:\n&quot;What work items are ready to be picked up?&quot;\n\nCompleting Work\nWhen done:\n&quot;I&#039;ve finished the authentication feature. Please update the backlog \nand mark the work item as complete.&quot;\n\n‚ö†Ô∏è Note: Script interfaces change frequently. Let the agent handle the technical details.\nBacklog Discipline\nThis demo follows these principles:\n\nReady gate enforcement: Tasks/Bugs must have all required fields before starting\nAppend-only Worklog: Never rewrite history; append new entries\nControlled volume: Only open items for actual code/design changes\nSized work items: Tasks/Bugs should fit in one focused session\nADRs for trade-offs: Only create ADRs when there‚Äôs a real architectural decision\n\nViewing the Backlog\nAsk your agent to show you the current state:\n&quot;Please show me the current backlog dashboard and highlight \nwhat needs attention.&quot;\n\nOr for specific views:\n&quot;What work items are currently in progress?&quot;\n&quot;Show me all completed work from this week.&quot;\n&quot;What new tasks are ready to be picked up?&quot;\n\nGenerated Views (Agent-Managed)\nThe agent automatically maintains views under product roots (e.g. _kano/backlog/products/&lt;product&gt;/views/):\n\nActive work dashboard\nNew items queue\nCompleted work history\n\nObsidian Integration (Optional)\nIf you use Obsidian, ask:\n&quot;Please set up this backlog for Obsidian Dataview integration.&quot;\n\nWork Item Types\n\nEpic: Large initiative spanning multiple features (e.g., ‚ÄúMilestone 0.0.2‚Äù)\nFeature: Cohesive capability (e.g., ‚ÄúLocal-first backlog system‚Äù)\nUser Story: User-facing functionality (e.g., ‚ÄúPlan before code‚Äù)\nTask: Technical work item (e.g., ‚ÄúAdd test script‚Äù)\nBug: Defect to be fixed\n\nWorkset and Topic Features\nThe backlog system includes two powerful features for managing agent execution context and preventing drift during complex work sessions.\nWorksets: Per-Item Execution Cache\nWorksets provide a focused, per-item execution context that prevents agent drift during task work. Each workset is a materialized cache bundle stored in _kano/backlog/.cache/worksets/items/&lt;item-id&gt;/ containing:\n\nplan.md: Checklist template derived from acceptance criteria\nnotes.md: Working notes with Decision: markers for ADR promotion\ndeliverables/: Staging area for work artifacts before promotion\nmeta.json: Metadata including agent, timestamps, TTL, and source references\n\nWorkset Commands\nInitialize a workset:\nkano-backlog workset init --item TASK-0042 --agent my-agent --ttl-hours 72\nGet next action from plan:\nkano-backlog workset next --item TASK-0042\nThis command is the workset‚Äôs ‚Äúkeep me on track‚Äù primitive:\n\nIt reads the workset‚Äôs plan.md (a checklist derived from the item‚Äôs Acceptance Criteria).\nIt returns the first unchecked checkbox item (- [ ] ...).\nIf everything is checked, it prints a completion message.\n\nIt does not automatically mark anything as done; you check items off in plan.md as you complete them, then run kano-backlog workset next again to get the next step. Use --format json if you want structured output for tooling/agent automation.\nRefresh from canonical files:\nkano-backlog workset refresh --item TASK-0042 --agent my-agent\nPromote deliverables to canonical artifacts:\nkano-backlog workset promote --item TASK-0042 --agent my-agent\n# Dry run to preview\nkano-backlog workset promote --item TASK-0042 --agent my-agent --dry-run\nDetect ADR candidates in notes:\nkano-backlog workset detect-adr --item TASK-0042\nList all worksets:\nkano-backlog workset list\nCleanup expired worksets:\nkano-backlog workset cleanup --ttl-hours 72\n# Dry run to preview\nkano-backlog workset cleanup --ttl-hours 72 --dry-run\nAgent Workflow with Worksets\nAsk your agent:\n&quot;Initialize a workset for TASK-0042 and show me the next action to take.&quot;\n\nThe agent will:\n\nCreate a workset directory with plan, notes, and deliverables\nParse acceptance criteria into a checklist in plan.md\nTrack progress through the checklist\nCapture decisions with Decision: markers in notes.md\nStage work artifacts in deliverables/\nPromote deliverables back to canonical artifacts when done\n\nExample conversation:\nUser: &quot;Start working on TASK-0042&quot;\nAgent: &quot;I&#039;ll initialize a workset and begin. The first step is...&quot;\n\nUser: &quot;What&#039;s next?&quot;\nAgent: &quot;According to the plan, the next unchecked step is...&quot;\n\nUser: &quot;I&#039;ve completed the implementation&quot;\nAgent: &quot;Great! I&#039;ll promote the deliverables to the canonical artifacts directory.&quot;\n\nTopics: Context Switching and Grouping\nTopics provide a higher-level grouping mechanism for related items and documents, enabling rapid context switching when focus areas change during a conversation.\nCurrent implementation (see _kano/backlog/products/kano-agent-backlog-skill/items/task/0100/KABSD-TSK-0190_topic-lifecycle-materials-buffer-workset-merge.md) stores topics in _kano/backlog/topics/&lt;topic&gt;/ so the deterministic brief.md can be shared/reviewed in-repo, while keeping the per-agent active-topic pointer in cache.\n\nmanifest.json: Topic metadata, seed items, pinned documents\nbrief.md: Stable, human-maintained brief (do not overwrite automatically)\nbrief.generated.md: Deterministic distilled brief (generated/overwritten by kano-backlog topic distill)\nsynthesis/: Working outputs for distillation (derived)\npublish/: Prepared write-backs / patch skeletons (derived)\nmaterials/: Raw collected materials (snippets, links, extracts, logs)\n\nclips/: Code snippet references with line ranges\nlinks/: External document references\nextracts/: Cached text extracts\nlogs/: Optional collected logs\n\n\n\nNotes:\n\nRaw materials are treated as cache: by default this repo ignores _kano/backlog/topics/**/materials/ via .gitignore.\nActive topic for an agent is stored under _kano/backlog/.cache/worksets/active_topic.&lt;agent&gt;.txt.\n\nTopic Commands\nCreate a topic:\nkano-backlog topic create auth-refactor --agent my-agent\nAdd items to topic:\nkano-backlog topic add auth-refactor --item TASK-0042\nkano-backlog topic add auth-refactor --item TASK-0043\nPin documents for context:\nkano-backlog topic pin auth-refactor --doc _kano/backlog/decisions/ADR-0005-auth-strategy.md\nAdd code snippets to materials:\nkano-backlog topic add-snippet auth-refactor --file src/auth.py --start 10 --end 25\nDistill materials into brief:\nkano-backlog topic distill auth-refactor\nAudit decision write-back (writes a report into topic publish/):\nkano-backlog topic decision-audit auth-refactor\nkano-backlog topic decision-audit auth-refactor --format json\nWrite back a decision to a work item:\nkano-backlog workitem add-decision KABSD-TSK-0001 \\\n  --decision &quot;Use X over Y because ...&quot; \\\n  --source &quot;_kano/backlog/topics/auth-refactor/synthesis/decision-notes.md&quot; \\\n  --agent my-agent \\\n  --product kano-agent-backlog-skill\nSwitch active topic:\nkano-backlog topic switch auth-refactor --agent my-agent\nExport context bundle:\nkano-backlog topic export-context auth-refactor --format markdown\nkano-backlog topic export-context auth-refactor --format json\nList all topics:\nkano-backlog topic list --agent my-agent\nClose a topic (enables TTL cleanup):\nkano-backlog topic close auth-refactor --agent my-agent\nCleanup closed topics:\nkano-backlog topic cleanup --ttl-days 14 --apply\n# Dry run to preview\nkano-backlog topic cleanup --ttl-days 14\nAgent Workflow with Topics\nAsk your agent:\n&quot;Create a topic for the authentication refactor work and add the related tasks.&quot;\n\nThe agent will:\n\nCreate a topic directory with manifest and materials structure\nAdd related backlog items to the topic‚Äôs seed_items\nPin relevant ADRs and design documents\nCollect code snippets into materials/clips/\nGenerate a distilled brief from collected materials\nSwitch to the topic when you change focus\nExport context bundles for loading into working memory\n\nExample conversation:\nUser: &quot;I&#039;m switching to work on the payment flow&quot;\nAgent: &quot;I&#039;ll create a topic and gather the relevant context...&quot;\nAgent: &quot;Topic &#039;payment-flow&#039; created with 3 tasks and 2 ADRs. Here&#039;s the brief...&quot;\n\nUser: &quot;Show me the authentication work&quot;\nAgent: &quot;Switching to topic &#039;auth-refactor&#039;... Here are the 5 tasks and relevant code snippets...&quot;\n\nTopic Lifecycle\n\nCreate: Initialize topic with manifest\nCollect: Add items, pin documents, collect code snippets\nDistill: Generate deterministic brief from materials\nSwitch: Change active topic for context switching\nExport: Generate context bundles for agent consumption\nClose: Mark topic as closed when work is complete\nCleanup: Remove raw materials after TTL (brief.md persists)\n\nWorksets vs Topics\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFeatureWorksetsTopicsScopeSingle itemMultiple items + documentsPurposeExecution cacheContext groupingLifetimeTask durationWork area durationContentPlan, notes, deliverablesItems, docs, snippets, briefUse CasePrevent drift during taskSwitch focus areasStorage.cache/worksets/items/topics/&lt;topic&gt;/ (materials ignored; active pointer in .cache/)\nConfiguration\nBacklog configuration is in _kano/backlog/_config/ (product-specific) or _kano/backlog/_shared/ (shared settings).\nContributing (Pre-Alpha)\nCurrent Status: This is version 0.0.2 - an experimental demo repository in rapid development.\nBefore Contributing:\n\nExpect frequent breaking changes\nCheck recent commits for current state\nUnderstand this is experimental software\nNo stability guarantees\n\nHow to Contribute:\n\nOpen issues for bugs/suggestions\nDiscuss major changes before implementing\nExpect your contributions may be refactored heavily\nFocus on core concepts rather than implementation details\n\nFor the main skill development, see kano-agent-backlog-skill (also experimental).\nRoadmap\nVersion 0.0.2 (Current):\n\n‚úÖ Core backlog management\n‚úÖ Workset and topic features\n‚úÖ Multi-agent collaboration patterns\n‚úÖ CLI commands\n‚úÖ Property-based testing\n\nFuture Versions:\n\nüîÆ Stable file format schema\nüîÆ Enhanced SQLite indexing\nüîÆ Production-ready embedding search\nüîÆ Web UI for backlog visualization\nüîÆ Git integration for version control\nüîÆ Export/import for backlog migration\nüîÆ Plugin system for custom workflows\nüîÆ Performance optimizations\n\nNote: Roadmap is subject to change based on experimentation and feedback.\nLicense\nMIT\nSee the individual skill repositories for license information.\nLearn More\n\nSkill Documentation: skills/kano-agent-backlog-skill/SKILL.md (after initializing submodules)\nAgent Guidelines: AGENTS.md\nExample Backlogs: Explore _kano/backlog/products/ for real-world examples\nADR Directory: _kano/backlog/decisions/ for architectural decisions\n\nTroubleshooting\nBacklog not found:\n\nEnsure you‚Äôre in the repository root\nCheck _kano/backlog/ directory exists\nInitialize a product: kano-backlog admin init --product my-product --agent my-agent\n\nAgent asks for help:\n\nPoint agent to AGENTS.md for guidelines\nReference skills/kano-agent-backlog-skill/SKILL.md for detailed instructions\nShow agent the example backlogs in _kano/backlog/products/\n\nFrequently Asked Questions\nQ: Is this production-ready?\nA: No. This is version 0.0.2 - experimental software. Use at your own risk.\nQ: Can I use this for my project?\nA: Yes, but expect breaking changes. Copy the skill directory or use as a git submodule.\nQ: How do I migrate my existing backlog?\nA: Migration tools are not yet available. Manual conversion required.\nQ: Does this work with [my favorite agent]?\nA: It should work with any agent that has file system access and can run CLI commands. Tested with Amazon Kiro, Claude, Cursor, Windsurf, and others.\nQ: Why file-based instead of a database?\nA: Files are human-readable, version-controllable, and don‚Äôt require a server. Optional SQLite indexes provide query performance without lock-in.\nQ: Can multiple agents work on the same backlog simultaneously?\nA: Yes, but coordination is manual. File conflicts may occur. Use git for version control and conflict resolution.\nPhilosophy\nThis experimental demo explores a ‚Äúbacklog-first‚Äù approach where:\n\nPlanning before coding: Work items are created and refined before implementation begins\nDurable context: Planning and decisions persist in files, not lost in chat conversations\nAuditable trail: Every change is logged with timestamps and agent identity\nRecoverable state: Any agent can pick up where another left off\nHuman-readable source of truth: Markdown files are the canonical source, not databases\nOptional indexes: SQLite and embedding indexes enable powerful queries without lock-in\nMulti-agent coordination: Shared backlog enables multiple agents to collaborate effectively\nContext isolation: Worksets prevent drift during complex tasks\nRapid context switching: Topics enable quick focus area changes\n\nVersion 0.0.2 Status: These principles are being tested and refined. Implementation is evolving but demonstrates the core concepts in action. The _kano/backlog/ directory contains real-world examples of this philosophy applied to the development of the system itself.\nDual-Readability Design (Topic &amp; Snapshot)\nA key challenge in modern development is that Humans struggle with focus (hard to jump between contexts) while Agents struggle with collaboration (hard to share implicit context).\nThis project checks every artifact against a Dual-Readability Principle:\n\nHuman-Readable: High-level summaries, clear checklists, and ‚Äúmanager-friendly‚Äù reports (e.g., brief.md, Report_pm.md) so humans can make rapid decisions without reading code.\nAgent-Readable: Structural precision, file paths, line numbers, and explicit ‚ÄúNext Step‚Äù markers (e.g., manifest.json, stub_inventory) so agents can act without hallucinating.\n\nTopics and Snapshots are the concrete implementation of this philosophy:\n\nTopics: Allow humans to ‚Äúload‚Äù a focus area mentally in seconds, while giving Agents a precise list of files and snippets to load into their context window.\nSnapshots: Give humans a trustable ‚ÄúState of the Union‚Äù, while giving Agents a literal checklist of TODOs and NotImplementedErrors to attack next.\n\nThe Agent Semantic Memory Model\nTo help Agents (and humans) navigate the complexity of software development, this project maps its features to the standard cognitive memory model:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMemory TypeEquivalentPurposeLifespanAnalogyShort-Term(Working Memory)WorksetExecution StatePrevents drift during a single task. Contains the immediate plan, scratchpad notes, and temp files.Hours(Task duration)The ‚Äúscratchpad‚Äù or ‚ÄúRAM‚Äù cleared after use.Medium-Term(Contextual)TopicFocus ScopeGroups related files, specs, and definitions for a feature. Allows rapid context switching.Days/Weeks(Feature duration)The ‚Äúproject folder‚Äù on your desk.Long-Term(Semantic)ADR &amp; CanonicalInstitutional KnowledgeImmutable decisions (ADRs) and the source code itself. The ‚ÄúSoul‚Äù of the project.Permanent(Project duration)The ‚Äúlibrary archives‚Äù or ‚Äútextbooks‚Äù.\nWhy this matters:\n\nAgents often ‚Äúforget‚Äù instructions (Short-term failure). ‚Üí Solution: Worksets force them to read a plan.md.\nAgents often ‚Äúhallucinate‚Äù unrelated files (Medium-term failure). ‚Üí Solution: Topics bind them to a specific manifest.json.\nAgents often ‚Äúoverwrite‚Äù architectural rules (Long-term failure). ‚Üí Solution: ADRs provide immutable constraints.\n\nBuilt with Multi-Agent Collaboration\nThis project is itself a demonstration of multi-agent collaboration in action. The codebase has been developed through iterative collaboration with multiple AI coding assistants, each bringing unique strengths to the development process:\n\nCodex - Early prototyping and concept exploration\nGitHub Copilot - Code completion, suggestions, and inline assistance\nGoogle Antigravity - Alternative perspectives and design discussions\nAmazon Q - AWS infrastructure guidance and cloud architecture\nAmazon Kiro - Primary development agent and implementation\nCursor - Inline editing, refactoring, and code navigation\nWindsurf - Additional development support and testing\nOpenCode - Testing, validation, and quality assurance\n\nHow Multi-Agent Collaboration Works\nThe backlog system you see here was used to coordinate work across these agents, proving the concept through real-world usage:\n\nShared Backlog: All agents work from the same file-based backlog in _kano/backlog/\nWorklog Trail: Every decision and state change is recorded in append-only worklogs\nADR Documentation: Architectural decisions are captured in _kano/backlog/decisions/\nContext Switching: Topics enable agents to quickly load relevant context for different work areas\nWorkset Isolation: Per-item worksets prevent agents from drifting during complex tasks\n\nAgent Collaboration Patterns\nSequential Handoff:\nAgent A: Creates Epic and Feature items\nAgent B: Breaks down into User Stories\nAgent C: Implements Tasks with worksets\nAgent D: Reviews and updates worklogs\n\nParallel Work:\nAgent A: Works on TASK-0042 (auth module)\nAgent B: Works on TASK-0043 (payment module)\nBoth: Update shared backlog independently\nBoth: Coordinate through ADRs and worklogs\n\nContext Switching:\nAgent: Switches from &quot;auth-refactor&quot; topic to &quot;payment-flow&quot; topic\nAgent: Loads new context bundle with relevant items and documents\nAgent: Continues work with full context of new focus area\n\nWhy This Matters\nTraditional agent collaboration loses context in chat conversations. This system demonstrates:\n\nDurable Context: Planning and decisions persist in files, not chat\nAuditable Trail: Every change is logged with timestamps and agent identity\nRecoverable State: Any agent can pick up where another left off\nScalable Coordination: Multiple agents can work on different areas simultaneously\nHuman Oversight: Humans can review, approve, or redirect at any checkpoint\n\nEvery feature, decision, and trade-off in this codebase is documented in the _kano/backlog/ directory - a living example of the ‚Äúbacklog-first‚Äù philosophy in action."},"demo/docs/releases/0.0.1":{"title":"0.0.1","links":[],"tags":[],"content":"0.0.1 ‚Äî Initial local-first backlog workflow (MVP)\nThis is the first public cut of the Kano Agent Backlog demo workspace: a local-first, file-based backlog that supports agent collaboration with an auditable trail.\nNo server runtime is included (by design).\nHighlights\n\nFile-first backlog as the system of record under _kano/backlog/ (items + decisions + views)\nAgent-friendly CLI to create/update items, enforce Ready-gate discipline, and keep views in sync\nTopics + Worksets to manage multi-session context and per-item scratch space\nDeterministic views (dashboards/reports) refreshable from canonical data\n\nWhat‚Äôs included\n\nWork items\n\nCreate/read and validate Ready-gate fields\nUpdate state transitions with append-only Worklog entries\n\n\nTopics\n\nCreate topics and attach items/snippets/materials for shared exploration context\n\n\nWorksets\n\nInitialize per-item working directories for deliverables and notes\n\n\nViews\n\nRefresh dashboards/reports after changes to keep the backlog readable\n\n\nAuditability\n\nAppend-only Worklog patterns and CLI-driven changes for traceability\nWorklog entries support [agent=...] and [model=...] attribution (defaults to unknown when not provided)\n\n\n\nGetting started\n\nInstall the skill (editable)\n\npython -m pip install -e skills/kano-agent-backlog-skill\n\n\nCheck environment health\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog doctor --format plain\n\n\nCreate a work item\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog workitem create --type task --title &quot;...&quot; --agent &lt;agent&gt; --product &lt;product&gt;\n\n\nRefresh views\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog view refresh --agent &lt;agent&gt; --product &lt;product&gt;\n\n\n\nKnown limitations (MVP)\n\nNo server / MCP / HTTP runtime (local-first only)\nVector backends / embeddings provider integrations are not implemented in this release\nSome workflows are intentionally minimal to keep the system deterministic and auditable\n\nNotes for agents\n\nPrefer running backlog operations through the kano-backlog CLI to preserve the audit trail.\nIf the model name is unknown, record unknown (recommended over guessing).\n"},"demo/docs/releases/0.0.2":{"title":"0.0.2","links":[],"tags":[],"content":"0.0.2 ‚Äî Topics system hardening + embedding pipeline foundations\nThis release focuses on two areas:\n\nTopic system enhancements to make multi-session, multi-agent context management reliable.\nEmbedding preprocessing + vector backend research foundations to enable local-first semantic retrieval work in subsequent releases.\n\nNo server runtime is included (by design).\nHighlights\n\nTopics: templates/archetypes for consistent topic scaffolding\nTopics: cross-references (related_topics) with bidirectional linking\nTopics: snapshots (create/list/restore/cleanup) for safe checkpoints\nTopics: merge/split operations with history preservation and dry-run mode\nEmbeddings: clarified requirements and decisions (cross-lingual retrieval; per-model indexes)\nEmbeddings: deterministic chunking/token-budget contracts and vector backend adapter contract captured in backlog items\n\nRelease focus topics (backlog evidence)\n\n_kano/backlog/topics/topic-system-enhancements/brief.md\n_kano/backlog/topics/embedding-preprocessing-and-vector-backend-research/brief.md\n\nKey related decisions:\n\n_kano/backlog/products/kano-agent-backlog-skill/decisions/ADR-0009_local-first-embedding-search-architecture.md\n_kano/backlog/products/kano-agent-backlog-skill/decisions/ADR-0035_cross-lingual-retrieval-requirement-and-default-embedding-policy.md\n_kano/backlog/products/kano-agent-backlog-skill/decisions/ADR-0036_index-strategy-shared-index-now-per-model-indexes-later-via-config.md\n\nKnown limitations\n\nNo server / MCP / HTTP runtime (local-first only)\nEmbedding providers and benchmarking are still evolving; expect iteration and config churn\nVector backend selection remains local-first and dependency-sensitive (Windows compatibility is a primary constraint)\n"},"demo/docs/releases/PROCESS":{"title":"PROCESS","links":[],"tags":[],"content":"Release Process (Demo Repo)\nThis repo treats releases as a documentation + backlog milestone exercise.\nKeep everything local-first and auditable (no server runtime).\nChecklist\n\n\nPick the release version (e.g., 0.0.2) and confirm the milestone Epic (e.g., KABSD-EPIC-0003).\n\n\nUpdate the human-facing version references\n\n\n\nREADME.md (top banner + ‚ÄúCurrent Status‚Äù section)\ndocs/releases/&lt;version&gt;.md\nskills/kano-agent-backlog-skill/docs/releases/&lt;version&gt;.md\n\n\nEnsure the release focus topics are in a reviewable state\n\n\nRun topic distill to refresh brief.generated.md (do not overwrite brief.md)\nClose finished topics (kano-backlog topic close ...) and prune snapshots if needed\n\n\nGenerate/merge changelog entries (optional but recommended)\n\n\nGenerate: python skills/kano-agent-backlog-skill/scripts/kano-backlog changelog generate --version &lt;version&gt; --product kano-agent-backlog-skill\nMerge into CHANGELOG.md: python skills/kano-agent-backlog-skill/scripts/kano-backlog changelog merge-unreleased --version &lt;version&gt;\n\n\nAttach release notes to the milestone Epic (recommended)\n\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog workitem attach-artifact &lt;EPIC_ID&gt; --path docs/releases/&lt;version&gt;.md --no-shared --product kano-agent-backlog-skill --backlog-root-override _kano/backlog --agent &lt;agent-id&gt; --note &quot;Attach release notes&quot;\n\n\nRefresh views (if dashboards are used)\n\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog view refresh --agent &lt;agent-id&gt; --product kano-agent-backlog-skill\n\nNotes\n\nbrief.generated.md is tool-owned and overwritten by topic distill.\nbrief.md is human-owned and should remain stable across iterations.\nKeep ‚Äúshared index across different embedding models‚Äù out of scope unless explicitly decided; default to per-model indexes keyed by an explicit embedding_space_id.\n"},"index":{"title":"Kano Agent Backlog Skill","links":["docs/workset","docs/topic"],"tags":[],"content":"kano-agent-backlog-skill\n\n\n\n\n\nAI Agent Skills for Spec-Driven Agentic Programming | Local-first backlog | Multi-agent collaboration | Durable decision trail\n\nLocal-first backlog + decision trail for agent collaboration.\nTurn chat-only context (trade-offs, decisions, why-not-that-option) into durable engineering assets, so your agent writes code only after capturing what to do, why, and how to verify.\n\nCode can be rewritten. Lost decisions can‚Äôt.\n\nAgent-first quickstart\nThis repo is meant to be used with an AI agent. The goal is not just to generate code, but to keep an auditable trail of intent, constraints, and decisions.\nCopy/paste: agent instructions\nPaste this into your agent‚Äôs system prompt / project instructions, ex: AGENTS.md:\nYou are an engineering agent working in this repository.\n \nRules of engagement:\n- Read and follow SKILL.md.\n- Before changing any code, ensure there is a Task/Bug item for the change and that it is Ready (Context, Goal, Approach, Acceptance Criteria, Risks / Dependencies are non-empty).\n- Use kano-backlog commands to create/update items and append Worklog entries; Worklog is append-only.\n- Use a workset while implementing: init -&gt; next -&gt; edit plan.md (check off completed steps) -&gt; next -&gt; repeat.\n- If a decision is load-bearing, create an ADR and link it from the item.\n- Prefer deterministic, repo-grounded outputs; do not invent file paths or backlog state.\nThe execution loop (minimal)\n# One-time setup in a repo\nkano-backlog backlog init --product &lt;my-product&gt; --agent &lt;agent-id&gt;\n \n# Start work (tickets-first)\nkano-backlog item create --type task --title &quot;...&quot; --agent &lt;agent-id&gt; --product &lt;my-product&gt;\nkano-backlog item set-ready &lt;ITEM_ID&gt; --product &lt;my-product&gt; \\\n  --context &quot;...&quot; --goal &quot;...&quot; --approach &quot;...&quot; --acceptance-criteria &quot;...&quot; --risks &quot;...&quot;\nkano-backlog item update-state &lt;ITEM_ID&gt; --state InProgress --agent &lt;agent-id&gt; --product &lt;my-product&gt;\n \n# Prevent drift while implementing\nkano-backlog workset init --item &lt;ITEM_ID&gt; --agent &lt;agent-id&gt;\nkano-backlog workset next --item &lt;ITEM_ID&gt;\n \n# (Edit _kano/backlog/.cache/worksets/items/&lt;ITEM_ID&gt;/plan.md to check off steps)\n# Then run `kano-backlog workset next --item &lt;ITEM_ID&gt;` again.\n \n# Write back anything worth keeping\nkano-backlog workset promote --item &lt;ITEM_ID&gt; --agent &lt;agent-id&gt;\nkano-backlog view refresh --product &lt;my-product&gt; --agent &lt;agent-id&gt;\nTip: most commands support --format json for structured agent/tool integration.\nWhat this is\nkano-agent-backlog-skill is an Agent Skill bundle (centered around SKILL.md) that guides/constrains an agent into a ‚Äútickets first‚Äù workflow:\n\nCreate/update a work item (Epic/Feature/UserStory/Task/Bug) before any code change\nCapture key decisions via append-only Worklog entries or ADRs, and link them together\nEnforce a Ready gate so each item has the minimum shippable context (Context/Goal/Approach/Acceptance/Risks)\nOptional Obsidian views (Dataview / Bases) so humans can inspect, intervene, and review\n\nThis skill is local-first: you can start without Jira / Azure Boards and still keep engineering discipline.\nWhy you might want it\nIf any of these sound familiar, this helps:\n\nYou made an architecture choice, but later forgot why you didn‚Äôt pick the other option\nThe agent output works, but maintenance feels like archaeology (missing rationale and constraints)\nRequirement changes force you back into chat history to understand impact\nYou want the agent as a teammate, but you end up acting as the ‚Äúhuman memory cache‚Äù\n\nGoal: convert ‚Äúevaporating context‚Äù into searchable, linkable, auditable files in your repo.\nThe Dual-Readability Principle\nTopics and Snapshots are designed to solve two problems at once:\n\nHuman Overload: Humans cannot keep entire repo states in their head. We need high-level summaries (brief.md, Reports) to make decisions.\nAgent Coordination: Agents cannot ‚Äúsee‚Äù the repo like we do. They need explicit lists of files, line numbers, and ‚Äústub inventories‚Äù to know what to do next.\n\nBy enforcing Dual-Readability (Markdown for humans, JSON/Structured data for Agents), we create a shared workspace where:\n\nHumans provide direction (via Briefs).\nAgents provide evidence (via Snapshots).\nBoth can understand the other‚Äôs output without translation.\n\nWhat you get (implemented)\n\nSKILL.md: the workflow and rules (planning-before-coding, Ready gate, worklog discipline)\nreferences/schema.md: item types, states, naming, minimal frontmatter\nreferences/templates.md: work item / ADR templates\nreferences/workflow.md: SOP (when to create items, when to record decisions, how to converge)\nreferences/views.md: Obsidian view patterns (Dataview + Bases)\nkano-backlog: Typer-based CLI entrypoint with subcommands:\n\nitem - Create and manage work items (Epic/Feature/UserStory/Task/Bug)\nitem update-state - Transition item states with worklog tracking\nworklog - Append worklog entries\nadr - Create and manage Architecture Decision Records\nworkset - Per-item execution cache (init/refresh/next/promote/cleanup/detect-adr)\ntopic - Context grouping and switching (create/add/pin/distill/decision-audit/switch/export-context/list)\nworkitem - Item utilities (including add-decision write-back)\nview - Generate dashboards and reports\nbacklog - Initialize and manage backlog structure\ndoctor - Validate backlog health\n\n\nsrc/kano_backlog_core: canonical models/storage helpers\nsrc/kano_backlog_ops: use-cases (create/update/view/workset/topic)\nsrc/kano_backlog_cli: CLI wiring (commands + utilities)\n\nNote: backlog administration commands are grouped under kano-backlog backlog ....\nOptionally, create _kano/backlog/ in your project repo to store items, ADRs, views, and helper scripts as the system of record.\nInstall and run\nFrom this repository root:\npython -m pip install -e .\nkano-backlog --help\nNo-install option (useful for agents/tools that run scripts directly):\npython scripts/kano-backlog --help\nQuick start (see value in ~5 minutes)\n\nRun kano-backlog backlog init --product &lt;my-product&gt; --agent &lt;id&gt; to scaffold _kano/backlog/products/&lt;my-product&gt;/\n(Optional) Open the repo in Obsidian and enable Dataview or Bases\nOpen _kano/backlog/products/&lt;my-product&gt;/views/ (or regenerate them with kano-backlog view refresh --agent &lt;id&gt; --product &lt;my-product&gt;)\nBefore any code change, create a Task/Bug and satisfy the Ready gate\nWhen a load-bearing decision happens, append a Worklog line; create an ADR when it‚Äôs truly architectural and link it\n\nWorkset and Topic Usage\nWorksets: Focused Execution\nWorksets prevent agent drift during task execution by providing a structured working context:\n# Initialize workset for a task\nkano-backlog workset init --item TASK-0042 --agent kiro\n \n# Get next action from plan\nkano-backlog workset next --item TASK-0042\n \n# Detect decisions that should become ADRs\nkano-backlog workset detect-adr --item TASK-0042\n \n# Promote deliverables to canonical artifacts\nkano-backlog workset promote --item TASK-0042 --agent kiro\n \n# Clean up expired worksets\nkano-backlog workset cleanup --ttl-hours 72\nSee workset.md for complete documentation.\nTopics: Context Switching\nTopics enable rapid context switching when focus areas change.\nUnlike worksets (which live entirely under _kano/backlog/.cache/worksets/items/&lt;item-id&gt;/), topics are stored under _kano/backlog/topics/&lt;topic&gt;/ so the deterministic brief.md can be shared/reviewed. Raw materials under materials/ are treated as cache.\n# Create a topic for related work\nkano-backlog topic create auth-refactor --agent kiro\n \n# Add items to the topic\nkano-backlog topic add auth-refactor --item TASK-0042\nkano-backlog topic add auth-refactor --item BUG-0012\n \n# Pin relevant documents\nkano-backlog topic pin auth-refactor --doc _kano/backlog/decisions/ADR-0015.md\n \n# Collect a code snippet reference (optional cached snapshot)\nkano-backlog topic add-snippet auth-refactor --file src/auth.py --start 10 --end 25 --agent kiro --snapshot\n \n# Distill deterministic brief.generated.md from collected materials\nkano-backlog topic distill auth-refactor\n \n# Generate a decision write-back audit report (writes to topic publish/)\nkano-backlog topic decision-audit auth-refactor --format plain\n \n# Switch active topic (per-agent pointer lives in cache)\nkano-backlog topic switch auth-refactor --agent kiro\n \n# Export context bundle\nkano-backlog topic export-context auth-refactor --format json\n \n# Close and later cleanup closed topics\nkano-backlog topic close auth-refactor --agent kiro\nkano-backlog topic cleanup --ttl-days 14\nkano-backlog topic cleanup --ttl-days 14 --apply\n \n# Write back a decision to a work item (appends to the item&#039;s Decisions section + Worklog)\nkano-backlog workitem add-decision KABSD-TSK-0001 \\\n  --decision &quot;Use X over Y because ...&quot; \\\n  --source &quot;_kano/backlog/topics/auth-refactor/synthesis/decision-notes.md&quot; \\\n  --agent kiro \\\n  --product &lt;my-product&gt;\nSee topic.md for complete documentation.\nSkill version\nShow the current skill version:\npython -c &quot;import pathlib; print((pathlib.Path(&#039;VERSION&#039;)).read_text().strip())&quot;\nExternal references\n\nAgent skills overview (Anthropic/Claude): platform.claude.com/docs/en/agents-and-tools/agent-skills/overview\nVersioning policy: VERSIONING.md\nRelease notes: CHANGELOG.md\n\nContributing\nPRs welcome, with one rule: don‚Äôt turn this into another Jira.\nThe point is to preserve decisions and acceptance, not to worship process.\nLicense\nMIT"},"skill-guide":{"title":"skill-guide","links":[],"tags":[],"content":"Kano Agent Backlog Skill (local-first)\nScope\nUse this skill to:\n\nPlan new work by creating backlog items before code changes.\nMaintain hierarchy and relationships via parent links, as defined by the active process profile.\nRecord decisions with ADRs and link them to items.\nKeep a durable, append-only worklog for project evolution.\n\nAgent compatibility: read the whole skill\n\nAlways load the entire SKILL.md before acting; some agent shells only fetch the first ~100 lines by default.\nIf your client truncates, fetch in chunks (e.g., lines 1-200, 200-400, ‚Ä¶) until you see the footer marker END_OF_SKILL_SENTINEL.\nIf you cannot confirm the footer marker, stop and ask for help; do not proceed with partial rules.\nWhen generating per-agent guides, preserve this read-all requirement so downstream agents stay in sync.\n\nNon-negotiables\n\nPlanning before coding: create/update items and meet the Ready gate before making code changes.\nWorklog is append-only; never rewrite history.\nUpdate Worklog whenever:\n\na discussion produces a clear decision or direction,\nan item state changes,\nscope/approach changes,\nor an ADR is created/linked.\n\n\nArchive by view: hide Done/Dropped items in views by default; do not move files unless explicitly requested.\nBacklog volume control:\n\nOnly create items for work that changes code or design decisions.\nAvoid new items for exploratory discussion; record in existing Worklog instead.\nKeep Tasks/Bugs sized for a single focused session.\nAvoid ADRs unless a real architectural trade-off is made.\n\n\nTicketing threshold (agent-decided):\n\nOpen a new Task/Bug when you will change code/docs/views/scripts.\nOpen an ADR (and link it) when a real trade-off or direction change is decided.\nOtherwise, record the discussion in an existing Worklog; ask if unsure.\n\n\nTicket type selection (keep it lightweight):\n\nEpic: multi-release or multi-team milestone spanning multiple Features.\nFeature: a new capability that delivers multiple UserStories.\nUserStory: a single user-facing outcome that requires multiple Tasks.\nTask: a single focused implementation or doc change (typically one session).\nExample: ‚ÄúEnd-to-end embedding pipeline‚Äù = Epic; ‚ÄúPluggable vector backend‚Äù = Feature; ‚ÄúMVP chunking pipeline‚Äù = UserStory; ‚ÄúImplement tokenizer adapter‚Äù = Task.\n\n\nBug vs Task triage (when fixing behavior):\n\nIf you are correcting a behavior that was previously marked Done and the behavior violates the original intent/acceptance (defect or regression), open a Bug and link it to the original item.\nIf the change is a new requirement/scope change beyond the original acceptance, open a Task/UserStory (or Feature) instead, and link it for traceability.\n\n\nBug origin tracing (when diagnosing a defect/regression):\n\nRecord when the issue started and the evidence path you used to determine it.\nPrefer VCS-backed evidence when available:\n\nlast-known-good revision (commit hash or tag)\nfirst-known-bad revision (commit hash or tag)\nsuspected introducing change(s) (commit hash) and why (e.g., git blame on specific lines)\n\n\nIf git history is unavailable (zip export, shallow clone, missing remote), explicitly record that limitation and what alternative evidence you used (e.g., release notes, timestamps, reproduction reports).\nKeep evidence lightweight: record commit hashes + 1‚Äì2 line summaries; avoid pasting large diffs into Worklog. Attach artifacts when needed.\nSuggested Worklog template:\n\nBug origin: last_good=&lt;sha|tag&gt;, first_bad=&lt;sha|tag&gt;, suspect=&lt;sha&gt; (reason: blame &lt;path&gt;:&lt;line&gt;), evidence=&lt;git log/blame/bisect|other&gt;\n\n\n\n\nState ownership: the agent decides when to move items to InProgress or Done; humans observe and can add context.\nState semantics: Proposed = needs discovery/confirmation; Planned = approved but not started; Ready gate applies before start.\nHierarchy is in frontmatter links, not folder nesting; avoid moving files to reflect scope changes.\nFilenames stay stable; use ASCII slugs.\nNever include secrets in backlog files or logs.\nLanguage: backlog and documentation content must be English-only (no CJK), to keep parsing and cross-agent collaboration deterministic.\nAgent Identity: In Worklog and audit logs, use your own identity (e.g., [agent=antigravity]), never copy [agent=codex] blindly.\nAlways provide an explicit --agent value for auditability (some commands currently default to cli, but do not rely on it).\nModel attribution (optional but preferred): provide --model &lt;name&gt; (or env KANO_AGENT_MODEL / KANO_MODEL) when it is known deterministically.\n\nDo not guess model names; if unknown, omit the [model=...] segment.\n\n\nAgent Identity Protocol: Supply --agent &lt;ID&gt; with your real product name (e.g., cursor, copilot, windsurf, antigravity).\n\nForbidden (Placeholders): auto, user, assistant, &lt;AGENT_NAME&gt;, $AGENT_NAME.\n\n\nFile operations for backlog/skill artifacts must go through the kano-backlog CLI\n(python skills/kano-agent-backlog-skill/scripts/kano-backlog &lt;command&gt;) so audit logs capture the action.\nSkill scripts only operate on paths under _kano/backlog/ or _kano/backlog_sandbox/;\nrefuse other paths.\nAfter modifying backlog items, refresh the plain Markdown views immediately using\npython skills/kano-agent-backlog-skill/scripts/kano-backlog view refresh --agent &lt;agent-id&gt; --backlog-root &lt;path&gt; so the dashboards stay current.\n\nPersona summaries/reports are available via python skills/kano-agent-backlog-skill/scripts/kano-backlog admin persona summary|report ....\n\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog workitem update-state ... auto-syncs parent states forward-only by default; use --no-sync-parent\nfor manual re-plans where parent state should stay put.\nAdd Obsidian [[wikilink]] references in the body (e.g., a ## Links section) so Graph/backlinks work; frontmatter alone does not create graph edges.\n\nAgent compatibility: read the whole skill\n\nAlways load the entire SKILL.md before acting; some agent shells only fetch the first ~100 lines by default.\nIf your client truncates, fetch in chunks (e.g., lines 1-200, 200-400, ‚Ä¶) until you see the footer marker END_OF_SKILL_SENTINEL.\nIf you cannot confirm the footer marker, stop and ask for help; do not proceed with partial rules.\nWhen generating per-agent guides, preserve this read-all requirement so downstream agents stay in sync.\n\nFirst-run bootstrap (prereqs + initialization)\nBefore using this skill in a repo, the agent must confirm:\n\nPython prerequisites are available (or install them), and\nthe backlog scaffold exists for the target product/root.\n\nIf the backlog structure is missing, propose the bootstrap commands and wait for user approval before writing files.\nDeveloper vs user mode (where to declare it)\n\nPreferred source of truth: product config in _kano/backlog/products/&lt;product&gt;/_config/config.json.\n\nmode.skill_developer: true when this repo actively develops the skill itself (this demo repo).\nmode.persona: optional string describing the primary human persona (e.g. developer, pm, qa), used only for human-facing summaries/views.\n\n\nSecondary: agent guide files (e.g., AGENTS.md / CLAUDE.md) can document expectations, but are agent-specific and not script-readable.\n\nSkill developer gate (architecture compliance)\nIf mode.skill_developer=true, before writing any skill code (in scripts/ or src/), you must:\n\nRead ADR-0013 (‚ÄúCodebase Architecture and Module Boundaries‚Äù) in the product decisions folder.\nFollow the folder rules defined in ADR-0013:\n\nscripts/ is executable-only: no reusable module code.\nsrc/ is import-only: core logic lives here, never executed directly.\nAll agent-callable operations go through scripts/kano-backlog CLI.\n\n\nPlace new code in the correct package:\n\nModels/config/errors ‚Üí src/kano_backlog_core/\nUse-cases (create/update/view) ‚Üí src/kano_backlog_ops/\nStorage backends ‚Üí src/kano_backlog_adapters/\nCLI commands ‚Üí src/kano_backlog_cli/commands/\n\n\n\nViolating these boundaries will be flagged in code review.\nPrerequisite install (Python)\nDetect:\n\nRun python skills/kano-agent-backlog-skill/scripts/kano-backlog doctor --format plain.\n\nIf packages are missing, install once (recommended):\n\nDefault: python -m pip install -e skills/kano-agent-backlog-skill\nSkill contributors: python -m pip install -e skills/kano-agent-backlog-skill[dev]\nOptional heavy dependencies (FAISS, sentence-transformers) should be installed manually per platform requirements before running the CLI against embedding features.\n\nBacklog initialization (file scaffold + config + dashboards)\nDetect (multi-product / platform layout):\n\nProduct initialized if _kano/backlog/products/&lt;product&gt;/_config/config.json exists (or confirm via python skills/kano-agent-backlog-skill/scripts/kano-backlog doctor --product &lt;product&gt;).\n\nBootstrap:\n\nRun python skills/kano-agent-backlog-skill/scripts/kano-backlog admin init --product &lt;product&gt; --agent &lt;agent-id&gt; [--backlog-root &lt;path&gt;] to scaffold _kano/backlog/products/&lt;product&gt;/ (items/, decisions/, views/, _config/, _meta/, _index/).\nThe init command derives a project prefix, writes _config/config.json, and refreshes dashboards so views exist immediately after initialization.\nManual fallback (only if automation is unavailable): follow _kano/backlog/README.md to copy the template scaffold, then refresh views via kano-backlog view refresh.\n\nOptional LLM analysis over deterministic reports\nThis skill can optionally append an LLM-generated analysis to a deterministic report.\nThe deterministic report is the SSOT; analysis is treated as a derived artifact.\n\nDeterministic report: views/Report_&lt;persona&gt;.md\nDerived LLM output: views/_analysis/Report_&lt;persona&gt;_LLM.md (gitignored by default)\nDeterministic prompt artifact: views/_analysis/Report_&lt;persona&gt;_analysis_prompt.md\n\nEnable by config (per product):\n\nanalysis.llm.enabled = true\n\nExecution:\n\nThe default workflow is: generate the deterministic report ‚Üí use it as SSOT ‚Üí fill in the analysis template.\n\nThe skill generates a deterministic prompt file to guide the analysis, and a derived markdown file with placeholder headings.\n\n\nOptional automation: when analysis.llm.enabled = true in config, view refresh generates views/snapshots/_analysis/Report_&lt;persona&gt;_analysis_prompt.md (deterministic prompt) and Report_&lt;persona&gt;_LLM.md (template or LLM output)\nNever pass API keys as CLI args; keep secrets in env vars to avoid leaking into audit logs.\n\nID prefix derivation\n\nSource of truth:\n\nProduct config: _kano/backlog/products/&lt;product&gt;/_config/config.toml (product.name, product.prefix), or\nRepo config (single-product): _kano/backlog/_config/config.toml (product.name, product.prefix).\n\n\nDerivation:\n\nSplit product.name on non-alphanumeric separators and camel-case boundaries.\nTake the first letter of each segment.\nIf only one letter, take the first letter plus the next consonant (A/E/I/O/U skipped).\nIf still short, use the first two letters.\nUppercase the result.\n\n\nExample: product.name=kano-agent-backlog-skill-demo ‚Üí KABSD.\n\nRecommended layout\nThis skill supports both single-product and multi-product layouts:\n\nSingle-product (repo-level): _kano/backlog/\nMulti-product (monorepo): _kano/backlog/products/&lt;product&gt;/\n\nWithin each backlog root:\n\n_meta/ (schema, conventions)\nitems/&lt;type&gt;/&lt;bucket&gt;/ (work items)\ndecisions/ (ADR files)\nviews/ (dashboards / generated Markdown)\n\nItem bucket folders (per 100)\n\nStore items under _kano/backlog/items/&lt;type&gt;/&lt;bucket&gt;/.\nBucket names use 4 digits for the lower bound of each 100 range.\n\nExample: 0000, 0100, 0200, 0300, ‚Ä¶\n\n\nExample path:\n\n_kano/backlog/items/task/0000/KABSD-TSK-0007_define-secret-provider-validation.md\n\n\n\nIndex/MOC files\n\nFor Epic, create an adjacent index file:\n\n&lt;ID&gt;_&lt;slug&gt;.index.md\n\n\nIndex files should render a tree using Dataview/DataviewJS and rely on parent links.\nTrack epic index files in _kano/backlog/_meta/indexes.md (type, item_id, index_file, updated, notes).\n\nReferences\n\nReference index: REFERENCE.md\nSchema and rules: references/schema.md\nTemplates: references/templates.md\nWorkflow SOP: references/workflow.md\nView patterns: references/views.md\nObsidian Bases (plugin-free): references/bases.md\nContext Graph + Graph-assisted retrieval: references/context_graph.md\n\nIf the backlog structure is missing, propose creation and wait for user approval before writing files.\nKano CLI entrypoints (current surface)\nscripts/ exposes a single executable: scripts/kano-backlog. The CLI is intentionally organized as nested command groups so agents can discover operations via --help on-demand (instead of hard-coding the full command surface into this skill).\nHelp-driven discovery (preferred)\nRun these in order, expanding only what you need:\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog --help\n\nShows top-level groups (e.g., backlog, item, state, worklog, view) and global options.\n\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog &lt;group&gt; --help\n\nShows subcommands for that group.\n\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog &lt;group&gt; &lt;command&gt; --help\n\nShows required args/options for that command.\n\n\n\nGuideline: do not paste large --help output into chat; inspect it locally and run the command.\nCanonical examples (keep these few memorized)\n\nBootstrap:\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog doctor --format plain\npython skills/kano-agent-backlog-skill/scripts/kano-backlog admin init --product &lt;name&gt; --agent &lt;id&gt;\n\n\nDaily workflow:\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog workitem create --type task --title &quot;...&quot; --agent &lt;id&gt; --product &lt;name&gt;\npython skills/kano-agent-backlog-skill/scripts/kano-backlog workitem set-ready &lt;item-id&gt; --context &quot;...&quot; --goal &quot;...&quot; --approach &quot;...&quot; --acceptance-criteria &quot;...&quot; --risks &quot;...&quot; --product &lt;name&gt;\npython skills/kano-agent-backlog-skill/scripts/kano-backlog workitem validate &lt;item-id&gt; --product &lt;name&gt;\npython skills/kano-agent-backlog-skill/scripts/kano-backlog workitem update-state &lt;item-ref&gt; --state InProgress --agent &lt;id&gt; --message &quot;...&quot; --product &lt;name&gt;\npython skills/kano-agent-backlog-skill/scripts/kano-backlog workitem attach-artifact &lt;item-id&gt; --path &lt;file&gt; --shared --agent &lt;id&gt; --product &lt;name&gt; [--note &quot;...&quot;]\npython skills/kano-agent-backlog-skill/scripts/kano-backlog view refresh --agent &lt;id&gt; --product &lt;name&gt;\n\n\nBacklog integrity checks:\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog admin validate uids --product &lt;name&gt;\n\n\n\nConflict handling policy (configurable)\nUse product config to control how duplicate IDs and UIDs are handled by maintenance commands\nsuch as admin links normalize-ids.\n\nConfig keys (product _config/config.toml):\n\nconflict_policy.id_conflict: default rename (rename duplicate IDs).\nconflict_policy.uid_conflict: default trash_shorter (move shorter duplicate content to _trash/).\n\n\ntrash_shorter uses _trash/&lt;YYYYMMDD&gt;/... under the product root; items get a Worklog entry.\n\nSandbox workflow (isolated experimentation)\nFor testing, prototyping, or demos without affecting production backlog:\n\nCreate: python skills/kano-agent-backlog-skill/scripts/kano-backlog admin sandbox init &lt;sandbox-name&gt; --product &lt;source-product&gt; --agent &lt;id&gt;\nUse: python skills/kano-agent-backlog-skill/scripts/kano-backlog workitem create --product &lt;sandbox-name&gt; ... (same CLI, different product)\nCleanup: rm -rf _kano/backlog_sandbox/&lt;sandbox-name&gt; (git will ignore this directory)\nRationale: Sandboxes mirror production structure but live in _kano/backlog_sandbox/, so changes never leak into _kano/backlog/.\n\nArtifacts policy (local-first)\n\nStorage locations:\n\nShared across products: _kano/backlog/_shared/artifacts/&lt;ITEM_ID&gt;/ (use --shared).\nProduct-local: _kano/backlog/products/&lt;product&gt;/artifacts/&lt;ITEM_ID&gt;/ (use --no-shared).\n\n\nUsage:\n\nAttach via workitem attach-artifact ‚Äî copies the file and appends a Worklog link.\nPrefer lightweight, text-first artifacts (Markdown, Mermaid, small images). Use Git LFS for large binaries if needed.\n\n\nGit policy:\n\nCommit human-readable artifacts that aid review. Avoid committing generated binaries unless justified.\nSandboxes under _kano/backlog_sandbox/ are gitignored; artifacts there are ephemeral.\nFor derived analysis, store under views/_analysis/ (gitignored by default), and keep deterministic reports in views/.\n\n\nLinking:\n\nThe CLI appends a Markdown link relative to the item file. Optionally add a ## Links section for richer context.\n\n\n\nState update helper\n\nUse python skills/kano-agent-backlog-skill/scripts/kano-backlog workitem update-state ... to update state + append Worklog.\nPrefer --action on kano-backlog state transition for the common transitions (start, ready, review, done, block, drop).\nUse python skills/kano-agent-backlog-skill/scripts/kano-backlog workitem validate &lt;item-id&gt; to check the Ready gate explicitly.\n\nTopic and Workset workflow (context management)\nWhen to use Topics\nTopics are shareable context buffers for multi-step work that spans multiple work items or requires exploratory research before creating formal backlog items.\nUse Topics when:\n\nExploring a complex problem that may result in multiple work items\nCollecting code snippets, logs, and materials across multiple sessions\nCollaborating across agents/sessions with a shared context\nRefactoring work that requires tracking multiple code locations\n\nTopic lifecycle:\n\nCreate: python skills/kano-agent-backlog-skill/scripts/kano-backlog topic create &lt;topic-name&gt; --agent &lt;id&gt;\n\nCreates _kano/backlog/topics/&lt;topic&gt;/ with manifest.json, brief.md, brief.generated.md, notes.md, and materials/ subdirectories\n\n\nCollect materials:\n\nAdd items: topic add &lt;topic-name&gt; --item &lt;ITEM_ID&gt;\nAdd code snippets: topic add-snippet &lt;topic-name&gt; --file &lt;path&gt; --start &lt;line&gt; --end &lt;line&gt; --agent &lt;id&gt;\nPin docs: topic pin &lt;topic-name&gt; --doc &lt;path&gt;\n\n\nDistill: python skills/kano-agent-backlog-skill/scripts/kano-backlog topic distill &lt;topic-name&gt;\n\n\nGenerates/overwrites deterministic brief.generated.md from collected materials\nbrief.md is a stable, human-maintained brief (do not overwrite it automatically)\n\n\nSwitch context: python skills/kano-agent-backlog-skill/scripts/kano-backlog topic switch &lt;topic-name&gt; --agent &lt;id&gt;\n\nSets active topic (affects config overlays and workset behavior)\n\n\nClose: python skills/kano-agent-backlog-skill/scripts/kano-backlog topic close &lt;topic-name&gt; --agent &lt;id&gt;\n\nMarks topic as closed; eligible for TTL cleanup\n\n\nCleanup: python skills/kano-agent-backlog-skill/scripts/kano-backlog topic cleanup --ttl-days &lt;N&gt; [--dry-run]\n\nRemoves raw materials from closed topics older than TTL\n\n\n\nTopic snapshots (retention policy):\n\nSnapshots are intended for milestone checkpoints (pre-merge/split/restore, risky bulk edits), not every small edit.\nTo prevent noise, keep only the latest snapshot per topic in this demo repo.\nAfter creating a snapshot (or periodically), prune all but the newest snapshot:\n\npython skills/kano-agent-backlog-skill/scripts/kano-backlog topic snapshot cleanup &lt;topic-name&gt; --ttl-days 0 --keep-latest 1 --apply\n\n\n\nTopic structure:\n_kano/backlog/topics/&lt;topic&gt;/\n  manifest.json          # refs to items/docs/snippets, status, timestamps\n  brief.md               # stable, human-maintained brief (do not overwrite automatically)\n  brief.generated.md     # deterministic distilled brief (generated/overwritten by `topic distill`)\n  notes.md               # freeform notes (backward compat)\n  materials/             # raw collection (gitignored by default)\n    clips/               # code snippet refs + cached text\n    links/               # urls / notes\n    extracts/            # extracted paragraphs\n    logs/                # build logs / command outputs\n  synthesis/             # intermediate drafts\n  publish/               # prepared write-backs (patches/ADRs)\n  config.toml            # optional topic-specific config overrides\n\nWhen to use Worksets\nWorksets are per-item working directories (cached, derived data) for a single backlog item.\nUse Worksets when:\n\nStarting work on a specific Task/Bug/UserStory\nNeed scratch space for deliverables (patches, test artifacts, etc.)\nWant item-specific config overrides (rare)\n\nWorkset lifecycle:\n\nInitialize: python skills/kano-agent-backlog-skill/scripts/kano-backlog workset init &lt;ITEM_ID&gt; --agent &lt;id&gt; [--ttl-hours &lt;N&gt;]\n\nCreates _kano/backlog/.cache/worksets/items/&lt;ITEM_ID&gt;/ with meta.json, plan.md, notes.md, deliverables/\n\n\nWork: Store scratch files in deliverables/ (patches, test outputs, etc.)\nRefresh: python skills/kano-agent-backlog-skill/scripts/kano-backlog workset refresh &lt;ITEM_ID&gt; --agent &lt;id&gt;\n\nUpdates refreshed_at timestamp\n\n\nCleanup: python skills/kano-agent-backlog-skill/scripts/kano-backlog workset cleanup --ttl-hours &lt;N&gt; [--dry-run]\n\nRemoves stale worksets older than TTL\n\n\n\nWorkset structure:\n_kano/backlog/.cache/worksets/items/&lt;ITEM_ID&gt;/\n  meta.json              # workset metadata (item_id, agent, timestamps, ttl)\n  plan.md                # execution plan template\n  notes.md               # work notes with Decision: marker guidance\n  deliverables/          # scratch outputs (patches, logs, test artifacts)\n  config.toml            # optional item-specific config overrides\n\nTopic vs Workset decision guide\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nScenarioUse TopicUse WorksetExploring before creating items‚úÖ Yes‚ùå NoMulti-item refactor‚úÖ Yes‚ùå NoCollecting code snippets across files‚úÖ Yes‚ùå NoShared context for collaboration‚úÖ Yes‚ùå NoSingle item scratch space‚ùå No‚úÖ YesItem-specific deliverables‚ùå No‚úÖ YesVersion-controlled distillation‚úÖ Yes (brief.generated.md)‚ùå No\nBest practice: Start exploration in a Topic, create work items as scope clarifies, then use Worksets for individual item execution.\nActive topic and config overlays\n\nActive topic is per-agent: _kano/backlog/.cache/worksets/active_topic.&lt;agent&gt;.txt\nWhen an agent has an active topic, config resolution includes topic overrides:\n\nLayer order: defaults ‚Üí product ‚Üí topic ‚Üí workset ‚Üí runtime\nTopic config: _kano/backlog/topics/&lt;topic&gt;/config.toml\nUse for temporary overrides (e.g., switch default_product during exploration)\n\n\nGet active topic: python skills/kano-agent-backlog-skill/scripts/kano-backlog topic show --agent &lt;id&gt;\n\nMaterials buffer (Topic-specific)\n\nReference-first snippet collection: Avoid large copy-paste; store file+line+hash+optional snapshot\nSnippet refs include:\n\nfile: relative path from workspace root\nlines: [start, end] (1-based inclusive)\nhash: sha256:... of content for staleness check\ncached_text: optional snapshot (use --snapshot to include)\nrevision: git commit hash if available\n\n\n\nHuman decision materials vs. machine manifest\nDual-Readability Design: Every artifact checks against both human and agent readability:\n\nHuman-Readable: High-level summaries, clear checklists, ‚Äúmanager-friendly‚Äù reports for rapid decision-making\nAgent-Readable: Structural precision, file paths, line numbers, explicit markers for action without hallucination\n\nImplementation in Topics:\n\nTreat manifest.json as machine-oriented metadata:\n\nseed_items: UUID list for precise agent reference\nsnippet_refs: file+line+hash for deterministic loading\npinned_docs: absolute paths for unambiguous reference\n\n\nKeep brief.generated.md deterministic and tool-owned (generated/overwritten by topic distill):\n\nReadable item titles (e.g., ‚ÄúKABSD-TSK-0042: Implement tokenizer adapter‚Äù)\nIf available, include item path and keep UID in a hidden HTML comment for deterministic mapping\nMaterials index with items/docs/snippets sorted for repeatability\n\n\nKeep brief.md human-oriented and stable (do not overwrite automatically):\n\nContext summary and key decisions\nOptional: include a human-friendly materials list (do not duplicate raw snippet text)\n\n\nPut human-facing decision support in _kano/backlog/topics/&lt;topic&gt;/notes.md (and/or pinned docs), e.g.:\n\nDecision to make\nOptions + trade-offs\nEvidence (ADR links, snippet refs, benchmark/log artifacts)\nRecommendation + follow-ups\n\n\nStaleness detection: Compare current file hash with stored hash to detect if code changed\nDistillation: topic distill generates deterministic brief.generated.md with a repeatable materials index\n\n\nEND_OF_SKILL_SENTINEL"}}